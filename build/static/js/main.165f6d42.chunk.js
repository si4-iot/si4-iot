(window["webpackJsonpcatalogo-app"]=window["webpackJsonpcatalogo-app"]||[]).push([[0],{44:function(e,t,a){e.exports=a.p+"static/media/logo.c4c3467b.png"},45:function(e,t,a){e.exports=a.p+"static/media/icon.9a3b0f3f.png"},46:function(e,t,a){e.exports=a(79)},51:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),o=a.n(l),c=(a(51),a(2)),i=a(3),s=a(5),u=a(4),m=a(6),d=a(13),p=a(18),h=a(39),f=a.n(h),E=(a(58),a(7)),b=a(17),g=a(41),v=a(29),y=a(42);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var j={descriptions:[],description:[],loading:!1},C=Object(b.c)({td:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET":return N({},e,{descriptions:t.payload,loading:!1});case"DELETE":return N({},e,{descriptions:e.descriptions.filter((function(e){return e._id!==t.payload}))});case"GET_TD":return N({},e,{description:e.descriptions.find((function(e){return e._id===t.payload}))});case"ADD":return N({},e,{descriptions:[t.payload].concat(Object(v.a)(e.descriptions))});case"UPDATE":var a=t.payload,n=e.descriptions.map((function(n){return n._id!==a._id?n:[t.payload].concat(Object(v.a)(e.description))}));return N({},e,{descriptions:n});case"SEARCH":return console.log(t.payload),N({},e,{description:t.payload});case"LOADING":return N({},e,{loading:!0});default:return e}}}),S=[g.a],D=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||b.d,T=Object(b.e)(C,{},D(b.a.apply(void 0,S))),x=a(19),w=a(8),k=a.n(w),A=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onChangeID=a.onChangeID.bind(Object(x.a)(a)),a.onChangeTitle=a.onChangeTitle.bind(Object(x.a)(a)),a.onSubmit=a.onSubmit.bind(Object(x.a)(a)),a.state={id:"",title:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;k.a.get("http://localhost:4000/td/"+this.props.match.params.id).then((function(t){e.setState({id:t.data.id,title:t.data.title})})).catch((function(e){console.log(e)}))}},{key:"onChangeID",value:function(e){this.setState({id:e.target.value})}},{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={id:this.state.id,title:this.state.title};k.a.post("http://localhost:4000/td/update/"+this.props.match.params.id,t).then((function(e){return console.log(e.data)})),this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:20}},r.a.createElement("h3",null,"Alterar TD:"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"ID: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.id,onChange:this.onChangeID})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title: "),r.a.createElement("textarea",{type:"text",className:"form-control",value:this.state.body,onChange:this.onChangeTitle})),r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Update Description",className:"btn btn-primary"}))))}}]),t}(n.Component),L=function(e){return function(t){k.a.post("/td/add",e).then((function(e){return t({type:"ADD",payload:e.data})})).catch((function(e){return console.log("Falha ao armazenar: "+e.response.data+e.response.status)}))}},I=function(e){return function(t){console.log("Action SEARCH acionada - consulta = "+e),k.a.post("/td/search/",{consult:e}).then((function(e){return t({type:"SEARCH",payload:e.data})})).catch((function(e){return console.log("Falha ao localizar consulta: ")}))}},R=function(){return{type:"LOADING"}},_=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.desc.id),r.a.createElement("td",null,e.desc.title),r.a.createElement("td",null,r.a.createElement(d.b,{to:"/edit/"+e.desc._id},"Editar")),r.a.createElement("td",null,r.a.createElement(d.b,{to:"/read/"+e.desc._id},"Visualizar")))},P=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.get()}},{key:"descriptionList",value:function(){return this.props.td.descriptions.map((function(e,t){return r.a.createElement(_,{desc:e,key:t})}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:20}},r.a.createElement("h3",null,"Cat\xe1logo"),r.a.createElement("table",{className:"table table-striped",style:{marginTop:20}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Title"))),r.a.createElement("tbody",null,this.descriptionList())))}}]),t}(n.Component),U=Object(E.b)((function(e){return{td:e.td}}),{get:function(){return function(e){e(R()),k.a.get("/td/").then((function(t){return e({type:"GET",payload:t.data})})).catch((function(e){return console.log("Falha ao localizar catalogo: "+e.response.data+e.response.status)}))}}})(P),J=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={description:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getTD(this.props.match.params.id)}},{key:"printContext",value:function(e){for(var t in e)if("@context"===t)return JSON.stringify(e[t])}},{key:"render",value:function(){var e=this.props.td.description;return r.a.createElement("div",{style:{marginTop:20}},r.a.createElement("h3",null,"Thing Description:"),r.a.createElement("table",{className:"table table-striped ",style:{marginTop:20}},r.a.createElement("thead",{className:"table-primary"},r.a.createElement("tr",null,r.a.createElement("th",null,"Context"),r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Title"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.printContext(e)),r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.title)))),r.a.createElement("hr",null),r.a.createElement("table",{className:"table table-striped ",style:{marginTop:20}},r.a.createElement("thead",{className:"table-primary"},r.a.createElement("tr",null,r.a.createElement("th",null,"Security Definitions"),r.a.createElement("th",null,"Security"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,JSON.stringify(e.securityDefinitions,null)),r.a.createElement("td",null,JSON.stringify(e.security,null))))),r.a.createElement("hr",null),r.a.createElement("table",{className:"table table-striped ",style:{marginTop:20}},r.a.createElement("thead",{className:"table-primary"},r.a.createElement("tr",null,r.a.createElement("th",null,"Properties"),r.a.createElement("th",null,"Actions"),r.a.createElement("th",null,"Events"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,JSON.stringify(e.properties,null)),r.a.createElement("td",null,JSON.stringify(e.actions,null)),r.a.createElement("td",null,JSON.stringify(e.events,null))))))}}]),t}(n.Component),z=Object(E.b)((function(e){return{td:e.td}}),{getTD:function(e){return function(t){t(R()),k.a.get("/td/".concat(e),e).then((function(a){return t({type:"GET_TD",payload:e})})).catch((function(e){return console.log("Falha ao localizar TD: "+e.response.data+e.response.status)}))}}})(J),M=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={texto:""},a.onChangeTexto=function(e){a.setState({texto:e.target.value})},a.onSubmit=function(e){e.preventDefault(),console.log("submit : "),console.log(a.state.texto),a.props.search(a.state.texto),a.props.history.push("/result")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:20}},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Localizar TD's dispon\xedveis "),r.a.createElement("div",{className:"formul"},r.a.createElement("textarea",{className:"texto-form",id:"busca",rows:"5",cols:"100",value:this.state.texto,onChange:this.onChangeTexto}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"text-center"},r.a.createElement("input",{type:"submit",value:"Buscar",className:"btn btn-outline-dark"})))))}}]),t}(n.Component),W=Object(E.b)((function(e){return{td:e.td}}),{search:I})(M),F=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.desc.id),r.a.createElement("td",null,e.desc.title),r.a.createElement("td",null,r.a.createElement(d.b,{to:"/edit/"+e.desc._id},"Editar")),r.a.createElement("td",null,r.a.createElement(d.b,{to:"/read/"+e.desc._id},"Visualizar")))},G=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"descriptionList",value:function(){var e=this.props.td.description;return console.log("DESCRIpTION: "+e),0===e.length?r.a.createElement("div",null,r.a.createElement("p",{style:{color:"red"}},"Nenhuma descricao encontrada!")):e.map((function(e,t){return r.a.createElement(F,{desc:e,key:t})}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:20}},r.a.createElement("label",null,"Dispositivos encontrados"),r.a.createElement("table",{className:"table table-striped",style:{marginTop:20}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Title"))),r.a.createElement("tbody",null,this.descriptionList())))}}]),t}(n.Component),B=Object(E.b)((function(e){return{td:e.td}}),{search:I})(G),H=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={"@context":"","@type":"",id:"",title:"",securityDef:"",security:"",properties:"",actions:"",events:""},a.onChangeContext=function(e){a.setState({"@context":e.target.value})},a.onChangeActions=function(e){a.setState({actions:e.target.value})},a.onChangeEvents=function(e){a.setState({events:e.target.value})},a.onChangeID=function(e){a.setState({id:e.target.value})},a.onChangeProperties=function(e){a.setState({properties:e.target.value})},a.onChangeSecurity=function(e){a.setState({security:e.target.value})},a.onChangeSecurityDef=function(e){a.setState({securityDef:e.target.value})},a.onChangeTitle=function(e){a.setState({title:e.target.value})},a.onSubmit=function(e){e.preventDefault(),console.log("Form submitted:");var t={"@context":a.state.context,id:a.state.id,title:a.state.title,securityDef:a.state.securityDef,security:a.state.security,properties:a.state.properties,actions:a.state.actions,events:a.state.events};console.log(t),a.props.add(t),a.setState({"@context":"",id:"",title:"",securityDef:"",security:"",properties:"",actions:"",events:""})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:20}},r.a.createElement("h3",null,"Adicionar TD"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Context: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.context,onChange:this.onChangeContext})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"ID: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.id,onChange:this.onChangeID})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.title,onChange:this.onChangeTitle})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Security Definitions: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.securityDef,onChange:this.onChangeSecurityDef})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Security: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.security,onChange:this.onChangeSecurity})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Properties: "),r.a.createElement("textarea",{type:"text",className:"form-control",value:this.state.properties,onChange:this.onChangeProperties})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Actions: "),r.a.createElement("textarea",{type:"text",className:"form-control",value:this.state.actions,onChange:this.onChangeActions})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Events: "),r.a.createElement("textarea",{type:"text",className:"form-control",value:this.state.events,onChange:this.onChangeEvents})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Adicionar",className:"btn btn-primary"}))))}}]),t}(n.Component),V=Object(E.b)((function(e){return{td:e.td}}),{add:L})(H),X=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={url:"",urls:"",description:{},multidescription:[]},a.onChangeURL=function(e){a.setState({url:e.target.value})},a.onChangeURLS=function(e){a.setState({urls:e.target.value})},a.onSubmit=function(e){e.preventDefault();var t=a.state.url;console.log("Adicionando um TD: "+t),k.a.get(t).then((function(e){a.setState({description:e.data}),console.log("Descricao encontrada!"),a.props.add(a.state.description)})).catch((function(e){console.log("Erro ao obter URL")}))},a.onSubmitMulti=function(e){e.preventDefault();var t=a.state.urls;console.log("Form submitted: "+t),k.a.get(t).then((function(e){a.setState({multidescription:e.data}),console.log("URL encontrada!"),console.log("Qtd de dispositivos: "+a.state.multidescription.length),a.state.multidescription.map((function(e,t){var a=this,n="";return console.log("Thing: "+e),k.a.get(e).then((function(e){console.log("Descricao: "+n),n=e.data,a.props.add(n)})).catch((function(e){console.log("Erro ao obter Descricao")})),0}))})).catch((function(e){console.log("Erro ao obter URL")}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:20}},r.a.createElement("h3",null,"Adicionar TD"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"URL:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.url,onChange:this.onChangeURL})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Adicionar",className:"btn btn-primary"}))),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("h3",null,"Multiplas TD's"),r.a.createElement("form",{onSubmit:this.onSubmitMulti},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"URL:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.urls,onChange:this.onChangeURLS})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Adicionar",className:"btn btn-primary"}))))}}]),t}(n.Component),Q=Object(E.b)((function(e){return{td:e.td}}),{add:L})(X),$=a(44),q=a.n($),K=a(45),Y=a.n(K),Z=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{store:T},r.a.createElement(d.a,null,r.a.createElement(f.a,null,r.a.createElement("title",null,"si4IoT"),r.a.createElement("link",{rel:"icon",type:"image/png",href:Y.a})),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"jumbotron blue-grey lighten-5"},r.a.createElement("p",{className:"card-title h1"},"Semantic Interoperability for Internet of Things"),r.a.createElement("p",{className:"indigo-text my-4 font-weight-bold"},"Testando coleta e representa\xe7\xe3o de dados de um sensor")),r.a.createElement("nav",{className:"navbar navbar-expand-lg bg-dark navbar-dark"},r.a.createElement("a",{className:"navbar-brand",href:"/"},r.a.createElement("img",{src:q.a,width:"90",height:"30",alt:"logo",className:"d-inline-block align-top"})),r.a.createElement("div",{className:"collpase nav-collapse"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"navbar-item"},r.a.createElement(d.b,{to:"/",className:"nav-link"},"Listar")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/create",className:"nav-link"},"Adicionar")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/add",className:"nav-link"},"Adicionar URL")),r.a.createElement("li",{className:"navbar-item"},r.a.createElement(d.b,{to:"/search",className:"nav-link"},"Buscar"))))),r.a.createElement(p.a,{path:"/",exact:!0,component:U}),r.a.createElement(p.a,{path:"/edit/:id",component:A}),r.a.createElement(p.a,{path:"/search",component:W}),r.a.createElement(p.a,{path:"/result",component:B}),r.a.createElement(p.a,{path:"/read/:id",component:z}),r.a.createElement(p.a,{path:"/create/",component:V}),r.a.createElement(p.a,{path:"/add/",component:Q}))))}}]),t}(n.Component),ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function te(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(Z,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ee?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):te(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):te(t,e)}))}}()}},[[46,1,2]]]);
//# sourceMappingURL=main.165f6d42.chunk.js.map